<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <!--link rel="icon" href="favicon.ico"!-->

    <title>Nimble App Store</title>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/jquery-ui.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="assets/css/starter-template.css" rel="stylesheet">

    <link href='https://fonts.googleapis.com/css?family=Raleway:400,100,700' rel='stylesheet' type='text/css'>

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!--script src="assets/js/ie-emulation-modes-warning.js"></script!-->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <style type="text/css">
    /* show the move cursor as the user moves the mouse over the panel header.*/
    #draggablePanelList .panel-heading {
        cursor: move;
    }

    h1, h2, h3, h4, h5, h6 {
        font-family: 'Raleway', sans-serif;
    }
    p, div {
        color: white;
        font-family: 'Raleway', sans-serif;
    }

    .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-xs-1, .col-xs-10, .col-xs-11, .col-xs-12, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9 {
        position: relative;
        min-height: 1px;
        padding-right: 25px;
        padding-left: 25px;
    }

    .padright {
      padding-right:55px
    }
  </style>

  <body>
    <div class="navbar-wrapper">
      <div class="container">

        <nav class="navbar navbar-inverse navbar-static-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="index.html"><img class="logo" style="height:75px;" src="assets/img/NIMBLE_LOGO_White.png"></a>
            </div>
            <div id="navbar" class="navbar-collapse collapse" style="float:right">
              <ul class="nav navbar-nav">
                <li class="active"><a href="index.html">Home</a></li>
                <li><a href="myapps.html">My Apps</a></li>
                <li><a href="store.html">Store</a></li>
              </ul>
            </div>
          </div>
        </nav>

      </div>
    </div>
    <br>
    <br>
    <!--nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container site-wrapper">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Nimble</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div>
      </div>
    </nav-->

    <div class="container">

      <div class="starter-template">
        <h1 style="color:white">App Store</h1>
      </div>
      <div class="row">
        <div class="col-md-3">
          <img style="width:100%" src="assets/img/app_icons/door_app.png">
          <div class="padright">
            <div class="row">
              <div class="col-md-9">
                <h3>GateKeeper</h3>
              </div>
              <div class="col-md-3">
                <h3>Free</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-9">
                <p>Live door status and history tracker</p>
              </div>
              <div class="col-md-3">
                <button class="btn btn-danger btn-default">GET</button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <img style="width:100%" src="assets/img/app_icons/toothbrush_app.png">
          <div class="padright">
            <div class="row">
              <div class="col-md-9">
                <h3>Brush It</h3>
              </div>
              <div class="col-md-3">
                <h3>Free</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-9">
                <p>Monitor thoothbrush sessions!</p>
              </div>
              <div class="col-md-3">
                <button class="btn btn-danger btn-default">GET</button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <img style="width:100%" src="assets/img/app_icons/med_app.png">
          <div class="padright">
            <div class="row">
              <div class="col-md-9">
                <h3>FreshMeds</h3>
              </div>
              <div class="col-md-3">
                <h3>Free</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-9">
                <p>Did you meds go bad?</p>
              </div>
              <div class="col-md-3">
                <button class="btn btn-danger btn-default">GET</button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <img style="width:100%" src="assets/img/app_icons/bike_app.png">
          <div class="padright">
            <div class="row">
              <div class="col-md-9">
                <h3>FitBike</h3>
              </div>
              <div class="col-md-3">
                <h3>$0.99</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-9">
                <p>Track speed and distance for cyclists.</p>
              </div>
              <div class="col-md-3">
                <button class="btn btn-danger btn-default">BUY</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col-md-3">
          <img style="width:100%" src="assets/img/app_icons/fridge_app.png">
          <div class="padright">
            <div class="row">
              <div class="col-md-9">
                <h3>SmartFridge</h3>
              </div>
              <div class="col-md-3">
                <h3>$0.99</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-9">
                <p>Know when your food goes bad.</p>
              </div>
              <div class="col-md-3">
                <button class="btn btn-danger btn-default">BUY</button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <img style="width:100%" src="assets/img/app_icons/waterleak_app.png">
          <div class="padright">
            <div class="row">
              <div class="col-md-9">
                <h3>WaterLeak</h3>
              </div>
              <div class="col-md-3">
                <h3>$0.99</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-9">
                <p>Detect water leaks.</p>
              </div>
              <div class="col-md-3">
                <button class="btn btn-danger btn-default">BUY</button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <img style="width:100%" src="assets/img/app_icons/poop_app.png">
          <div class="padright">
            <div class="row">
              <div class="col-md-9">
                <h3>SmartDiaper</h3>
              </div>
              <div class="col-md-3">
                <h3>$0.99</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-9">
                <p>Know when your baby needs maintenance.</p>
              </div>
              <div class="col-md-3">
                <button class="btn btn-danger btn-default">BUY</button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <img style="width:100%" src="assets/img/app_icons/infinity_app.png">
        </div>
      </div>
      <br>
    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/jquery-1.11.3.min.js"></script>
    <script src="assets/js/jquery-ui.min.js"></script>

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--script src="assets/js/ie10-viewport-bug-workaround.js"></script!-->
  </body>
  <script>
    var panelList = $('#draggablePanelList');

    panelList.sortable({
        // Only make the .panel-heading child elements support dragging.
        // Omit this to make then entire <li>...</li> draggable.
        handle: '.panel-heading', 
        update: function() {
            $('.panel', panelList).each(function(index, elem) {
                 var $listItem = $(elem),
                     newIndex = $listItem.index();

                 // Persist the new indices.
            });
        }
    });


    // Door Status Chart
    var yourLabels = ["Closed", "Open"];

    $(function () {
      $('#doorGraph').highcharts({
        chart: {
            type: 'spline'
        },
        title: {
            text: 'Door Status'
        },
        subtitle: {
            text: 'Nimble'
        },
        xAxis: {
            type: 'datetime',
            dateTimeLabelFormats: { // don't display the dummy year
                month: '%e. %b',
                year: '%b'
            },
            title: {
                text: 'Date'
            }
        },
        yAxis: {
            title: {
                text: 'Snow depth (m)'
            },
            min: 0,
            labels: {
                
              formatter: function() {
                  return yourLabels[this.value];
                }
            }
        },
        tooltip: {
            headerFormat: '<b>{series.name}</b><br>',
            pointFormat: '{point.x:%e. %b}'
        },

        plotOptions: {
            spline: {
                marker: {
                    enabled: true
                }
            }
        },

        series: [{
            name: 'Door Status',
            // Define the data points. All series have a dummy year
            // of 1970/71 in order to be compared on the same x axis. Note
            // that in JavaScript, months start at 0 for January, 1 for February etc.
            data: [
                [Date.UTC(1970, 9, 21), 0],
                [Date.UTC(1970, 10, 4), 1],
                [Date.UTC(1970, 10, 9), 1],
                [Date.UTC(1970, 10, 27), 0],
                [Date.UTC(1970, 11, 2), 0],
                [Date.UTC(1970, 11, 26), 1],
                [Date.UTC(1970, 11, 29), 1],
                [Date.UTC(1971, 0, 11), 1],
                [Date.UTC(1971, 0, 26), 0],
                [Date.UTC(1971, 1, 3), 0],
                [Date.UTC(1971, 1, 11), 0],
                [Date.UTC(1971, 1, 25), 1],
                [Date.UTC(1971, 2, 11), 1],
                [Date.UTC(1971, 3, 11), 1],
                [Date.UTC(1971, 4, 1), 0],
                [Date.UTC(1971, 4, 5), 0],
                [Date.UTC(1971, 4, 19), 0],
                [Date.UTC(1971, 5, 3), 0]
            ],
            color: '#FFBB4B'
        }]
      });
    });


    // Toothbrush Tracker
    $('#toothbrushGraph').highcharts({
        chart: {
            type: 'column'
        },
        title: {
            text: 'Brush Time!'
        },
        subtitle: {
            text: 'Nimble'
        },
        xAxis: {
            type: 'category',
            labels: {
                rotation: -45,
                style: {
                    fontSize: '13px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Population (millions)'
            }
        },
        legend: {
            enabled: false
        },
        tooltip: {
            pointFormat: 'Brushtime: <b>{point.y:.1f} seconds</b>'
        },
        series: [{
            name: 'BrushTimes',
            data: [
                ['Monday 6:02am', 73.7],
                ['Monday 10:03pm', 56.1],
                ['Tuesday 7:14am', 84.2],
                ['Tuesday 8:15pm', 74.0],
                ['Wednesday 7:01am', 82.5],
            ],
            dataLabels: {
                enabled: true,
                rotation: -90,
                color: '#FFFFFF',
                align: 'right',
                format: '{point.y:.1f}', // one decimal
                y: 10, // 10 pixels down from the top
                style: {
                    fontSize: '13px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        }]
    });

    // Medicine Nimblet
    $(function () {
      $('#medicineNimblet').highcharts({
        chart: {
            type: 'area'
        },
        title: {
            text: 'Medicine Temperature Alerts'
        },
        subtitle: {
            text: 'Nimble'
        },
        xAxis: {
            allowDecimals: false,
            labels: {
                formatter: function () {
                    return this.value; // clean, unformatted number for year
                }
            }
        },
        yAxis: {
            title: {
                text: ''
            }
        },
        tooltip: {
            pointFormat: 'Your medicine alerts: <b>{point.y:,.0f}</b>'
        },
        plotOptions: {
            area: {
                
                marker: {
                    enabled: false,
                    symbol: 'circle',
                    radius: 2,
                    states: {
                        hover: {
                            enabled: true
                        }
                    }
                }
            }
        },
        series: [{
            name: 'Medicine Alerts',
            data: [0,0,1,1,0,0,0,0,0,0,0,1,1,1,0,0,1,1,0,0,0,0,0,0],
            color: '#FF2323'
        }]
      });
    });

    // Poop Nimblet
    $(function () {
        $('#poopNimblet').highcharts({
            chart: {
                type: 'area'
            },
            title: {
                text: 'Baby Poop Detector'
            },
            subtitle: {
                text: 'Nimble'
            },
            xAxis: {
                allowDecimals: false,
                labels: {
                    formatter: function () {
                        return this.value; // clean, unformatted number for year
                    }
                }
            },
            yAxis: {
                title: {
                    text: ''
                }
            },
            tooltip: {
                pointFormat: 'Your baby pooped: <b>{point.y:,.0f}</b>'
            },
            plotOptions: {
                area: {
                    
                    marker: {
                        enabled: false,
                        symbol: 'circle',
                        radius: 2,
                        states: {
                            hover: {
                                enabled: true
                            }
                        }
                    }
                }
            },
            series: [{
                name: 'Poop State',
                data: [0,0,1,1,0,0,0,1,1,0,0,1,1,1,0,0,1,1,0,0,0,0,1,1],
                color: '#9C7328'
            }]
        });
    });



    // Button Event Handlers
    $("#doorBtn").click(function(){
      console.log("Run Door");

      // Disable active panel and enable this panel
      $(".active").addClass('inactive');
      $(".active").removeClass('active');
      $("#doorPanel").addClass('active');

      // Notify Server which app got activated
      $.get("http://ec2-52-91-163-253.compute-1.amazonaws.com/sensorendpoint/test", function(data, status){
        console.log("Data: " + data + "\nStatus: " + status);
      })
    });

    $("#toothbrushBtn").click(function(){
      console.log("Run ToothBrush");

      // Disable active panel and enable this panel
      $(".active").addClass('inactive');
      $(".active").removeClass('active');
      $("#toothbrushPanel").addClass('active');
    });

    $("#medicineBtn").click(function(){
      console.log("Run Medicine");

      // Disable active panel and enable this panel
      $(".active").addClass('inactive');
      $(".active").removeClass('active');
      $("#medicinePanel").addClass('active');
    });

    $("#poopBtn").click(function(){
      console.log("Run Poop`");

      // Disable active panel and enable this panel
      $(".active").addClass('inactive');
      $(".active").removeClass('active');
      $("#poopPanel").addClass('active');
    });

    function disablePanel(panel){

    }

    //Panel mouse over event handler
    $(".panel").mouseover(function(){
        if ($(this).hasClass('inactive')) {
            $(this).removeClass('inactive');
        }
    });
    $(".panel").mouseleave(function(){
        if (!$(this).hasClass('active')) {
            $(this).addClass('inactive');
        }
    });

  </script>
</html>
